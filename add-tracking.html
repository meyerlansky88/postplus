<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shipment Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .form-container {
            max-width: 1000px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .form-section {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .form-section h2 {
            margin-top: 0;
            color: #444;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .form-row {
            display: flex;
            gap: 15px;
        }
        .form-row .form-group {
            flex: 1;
        }
        .history-item, .package-item {
            border: 1px solid #eee;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            background-color: #f9f9f9;
        }
        .add-btn {
            background-color: #4CAF50;
            color: white;
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 15px;
        }
        .add-btn:hover {
            background-color: #45a049;
        }
        .submit-btn {
            background-color: #2196F3;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
        }
        .submit-btn:hover {
            background-color: #0b7dda;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h1>Shipment Information Form</h1>
        <form id="shipmentForm">
            <!-- Basic Shipment Info -->
            <div class="form-section">
                <h2>Basic Shipment Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="trackingNum">Tracking Number:</label>
                        <input type="text" id="trackingNum" name="trackingNum" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="status">Status:</label>
                        <select id="status" name="status" required>
                            <option value="In Transit" selected>In Transit</option>
                            <option value="Picked Up">Picked Up</option>
                            <option value="Delivered">Delivered</option>
                            <option value="Returned">Returned</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="carrierRef">Carrier Reference:</label>
                        <input type="text" id="carrierRef" name="carrierRef" value="" required>
                    </div>
                </div>
            </div>

            <!-- Shipper Information -->
            <div class="form-section">
                <h2>Shipper Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="shipperName">First name:</label>
                        <input type="text" id="shipperName" name="shipperName" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="shipperName">Last name:</label>
                        <input type="text" id="shipperName" name="shipperName" value="" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="shipperStreet">Street Address:</label>
                        <input type="text" id="shipperStreet" name="shipperStreet" placeholder="e.g., 123 Main St" required>
                    </div>
                    <div class="form-group">
                        <label for="shipperCity">City:</label>
                        <input type="text" id="shipperCity" name="shipperCity" placeholder="e.g., Santaquin" required>
                    </div>
                </div>
                 <div class="form-row">
                    <div class="form-group">
                        <label for="shipperZip">ZIP:</label>
                        <input type="text" id="shipperZip" name="shipperZip" required>
                    </div>
                    <div class="form-group">
                        <label for="shipperStreet">State:</label>
                        <select id="shipperState" name="shipperState" required>
                            <option value="">-- Select State --</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">District of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                            <!-- US Territories -->
                            <option value="AS">American Samoa</option>
                            <option value="GU">Guam</option>
                            <option value="MP">Northern Mariana Islands</option>
                            <option value="PR">Puerto Rico</option>
                            <option value="UM">U.S. Minor Outlying Islands</option>
                            <option value="VI">U.S. Virgin Islands</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="receiverPhone">Phone:</label>
                        <input type="tel" id="shipperPhone" name="shipperPhone" value="" required>
                    </div>
                </div>
            </div>

            <!-- Receiver Information -->
            <div class="form-section">
                <h2>Receiver Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="receiverName">First name:</label>
                        <input type="text" id="receiverName" name="receiverName" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="shipperName">Last name:</label>
                        <input type="text" id="receiverName" name="receiverName" value="" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="receiverStreet">Street Address:</label>
                        <input type="text" id="receiverStreet" name="receiverStreet" placeholder="e.g., 123 Main St" required>
                    </div>
                    <div class="form-group">
                        <label for="receiverCity">City:</label>
                        <input type="text" id="receiverCity" name="receiverCity" placeholder="e.g., Santaquin" required>
                    </div>
                </div>
                 <div class="form-row">
                    <div class="form-group">
                        <label for="receiverZip">ZIP:</label>
                        <input type="text" id="receiverZip" name="receiverZip" required>
                    </div>
                    <div class="form-group">
                        <label for="receiverStreet">State:</label>
                        <select id="receiverState" name="receiverState" required>
                            <option value="">-- Select State --</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">District of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                            <!-- US Territories -->
                            <option value="AS">American Samoa</option>
                            <option value="GU">Guam</option>
                            <option value="MP">Northern Mariana Islands</option>
                            <option value="PR">Puerto Rico</option>
                            <option value="UM">U.S. Minor Outlying Islands</option>
                            <option value="VI">U.S. Virgin Islands</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="receiverPhone">Phone:</label>
                        <input type="tel" id="receiverPhone" name="receiverPhone" value="" required>
                    </div>
                </div>
            </div>

            <!-- Shipment Details -->
            <div class="form-section">
                <h2>Shipment Details</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="origin">Origin:</label>
                        <input type="text" id="origin" name="origin" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="destination">Destination:</label>
                        <input type="text" id="destination" name="destination" value="" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="package">Package Type:</label>
                        <input type="text" id="package" name="package" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="carrier">Carrier:</label>
                        <input type="text" id="carrier" name="carrier" value="" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="shipmentType">Shipment Type:</label>
                        <input type="text" id="shipmentType" name="shipmentType" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="weight">Weight:</label>
                        <input type="text" id="weight" name="weight" value="" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="shipmentMode">Shipment Mode:</label>
                        <input type="text" id="shipmentMode" name="shipmentMode" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="product">Product:</label>
                        <input type="text" id="product" name="product" value="" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="quantity">Quantity:</label>
                        <input type="number" id="quantity" name="quantity" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="paymentMode">Payment Mode:</label>
                        <input type="text" id="paymentMode" name="paymentMode" value="" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="totalFreight">Total Freight:</label>
                        <input type="text" id="totalFreight" name="totalFreight" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="expectedDelivery">Expected Delivery:</label>
                        <input type="date" id="expectedDelivery" name="expectedDelivery" value="" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="departureTime">Departure Time:</label>
                        <input type="time" id="departureTime" name="departureTime" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="pickupDate">Pickup Date:</label>
                        <input type="date" id="pickupDate" name="pickupDate" value="" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="pickupTime">Pickup Time:</label>
                        <input type="time" id="pickupTime" name="pickupTime" value="" required>
                    </div>
                    <div class="form-group">
                        <label for="comments">Comments:</label>
                        <input type="text" id="comments" name="comments" value="* *">
                    </div>
                </div>
            </div>

            <!-- Shipment History -->
            <div class="form-section">
                <h2>Shipment History</h2>
                <div id="historyContainer">
                    <div class="history-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="historyDate0">Date:</label>
                                <input type="date" id="historyDate0" name="history[0][date]" value="" required>
                            </div>
                            <div class="form-group">
                                <label for="historyTime0">Time:</label>
                                <input type="time" id="historyTime0" name="history[0][time]" value="" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="historyLocation0">Location:</label>
                            <input type="text" id="historyLocation0" name="history[0][location]" value="" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="historyStatus0">Status:</label>
                                <input type="text" id="historyStatus0" name="history[0][status]" value="" required>
                            </div>
                            <div class="form-group">
                                <label for="historyUpdatedBy0">Updated By:</label>
                                <input type="text" id="historyUpdatedBy0" name="history[0][updatedBy]" value="" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="historyRemarks0">Remarks:</label>
                            <input type="text" id="historyRemarks0" name="history[0][remarks]" value="">
                        </div>
                    </div>
                    
                    <div class="history-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="historyDate1">Date:</label>
                                <input type="date" id="historyDate1" name="history[1][date]" value="" required>
                            </div>
                            <div class="form-group">
                                <label for="historyTime1">Time:</label>
                                <input type="time" id="historyTime1" name="history[1][time]" value="" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="historyLocation1">Location:</label>
                            <input type="text" id="historyLocation1" name="history[1][location]" value="" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="historyStatus1">Status:</label>
                                <input type="text" id="historyStatus1" name="history[1][status]" value="" required>
                            </div>
                            <div class="form-group">
                                <label for="historyUpdatedBy1">Updated By:</label>
                                <input type="text" id="historyUpdatedBy1" name="history[1][updatedBy]" value="" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="historyRemarks1">Remarks:</label>
                            <input type="text" id="historyRemarks1" name="history[1][remarks]" value="">
                        </div>
                    </div>
                    
                    <div class="history-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="historyDate2">Date:</label>
                                <input type="date" id="historyDate2" name="history[2][date]" value="" required>
                            </div>
                            <div class="form-group">
                                <label for="historyTime2">Time:</label>
                                <input type="time" id="historyTime2" name="history[2][time]" value="" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="historyLocation2">Location:</label>
                            <input type="text" id="historyLocation2" name="history[2][location]" value="" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="historyStatus2">Status:</label>
                                <input type="text" id="historyStatus2" name="history[2][status]" value="" required>
                            </div>
                            <div class="form-group">
                                <label for="historyUpdatedBy2">Updated By:</label>
                                <input type="text" id="historyUpdatedBy2" name="history[2][updatedBy]" value="" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="historyRemarks2">Remarks:</label>
                            <input type="text" id="historyRemarks2" name="history[2][remarks]" value="* *">
                        </div>
                    </div>
                </div>
                <button type="button" class="add-btn" id="addHistoryBtn">Add History Item</button>
            </div>

            <!-- Package Information -->
            <div class="form-section">
                <h2>Package Information</h2>
                <div id="packageContainer">
                    <div class="package-item">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="packageQuantity0">Quantity:</label>
                                <input type="number" id="packageQuantity0" name="packages[0][quantity]" value="" required>
                            </div>
                            <div class="form-group">
                                <label for="packagePieceType0">Piece Type:</label>
                                <input type="text" id="packagePieceType0" name="packages[0][pieceType]" value="" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="packageDescription0">Description:</label>
                            <input type="text" id="packageDescription0" name="packages[0][description]" value="" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="packageLength0">Length (cm):</label>
                                <input type="number" id="packageLength0" name="packages[0][length]" value="" required>
                            </div>
                            <div class="form-group">
                                <label for="packageWidth0">Width (cm):</label>
                                <input type="number" id="packageWidth0" name="packages[0][width]" value="" required>
                            </div>
                            <div class="form-group">
                                <label for="packageHeight0">Height (cm):</label>
                                <input type="number" id="packageHeight0" name="packages[0][height]" value="" required>
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" class="add-btn" id="addPackageBtn">Add Package</button>
            </div>

            <button type="submit" class="submit-btn">Submit Shipment</button>
        </form>
    </div>

    <script>
        // Add history item
        document.getElementById('addHistoryBtn').addEventListener('click', function() {
            const container = document.getElementById('historyContainer');
            const index = container.children.length;
            
            const newItem = document.createElement('div');
            newItem.className = 'history-item';
            newItem.innerHTML = `
                <div class="form-row">
                    <div class="form-group">
                        <label for="historyDate${index}">Date:</label>
                        <input type="date" id="historyDate${index}" name="history[${index}][date]" required>
                    </div>
                    <div class="form-group">
                        <label for="historyTime${index}">Time:</label>
                        <input type="time" id="historyTime${index}" name="history[${index}][time]" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="historyLocation${index}">Location:</label>
                    <input type="text" id="historyLocation${index}" name="history[${index}][location]" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="historyStatus${index}">Status:</label>
                        <input type="text" id="historyStatus${index}" name="history[${index}][status]" required>
                    </div>
                    <div class="form-group">
                        <label for="historyUpdatedBy${index}">Updated By:</label>
                        <input type="text" id="historyUpdatedBy${index}" name="history[${index}][updatedBy]" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="historyRemarks${index}">Remarks:</label>
                    <input type="text" id="historyRemarks${index}" name="history[${index}][remarks]">
                </div>
                <button type="button" class="remove-btn" onclick="this.parentNode.remove()">Remove</button>
            `;
            
            container.appendChild(newItem);
        });

        // Add package item
        document.getElementById('addPackageBtn').addEventListener('click', function() {
            const container = document.getElementById('packageContainer');
            const index = container.children.length;
            
            const newItem = document.createElement('div');
            newItem.className = 'package-item';
            newItem.innerHTML = `
                <div class="form-row">
                    <div class="form-group">
                        <label for="packageQuantity${index}">Quantity:</label>
                        <input type="number" id="packageQuantity${index}" name="packages[${index}][quantity]" required>
                    </div>
                    <div class="form-group">
                        <label for="packagePieceType${index}">Piece Type:</label>
                        <input type="text" id="packagePieceType${index}" name="packages[${index}][pieceType]" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="packageDescription${index}">Description:</label>
                    <input type="text" id="packageDescription${index}" name="packages[${index}][description]" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="packageLength${index}">Length (cm):</label>
                        <input type="number" id="packageLength${index}" name="packages[${index}][length]" required>
                    </div>
                    <div class="form-group">
                        <label for="packageWidth${index}">Width (cm):</label>
                        <input type="number" id="packageWidth${index}" name="packages[${index}][width]" required>
                    </div>
                    <div class="form-group">
                        <label for="packageHeight${index}">Height (cm):</label>
                        <input type="number" id="packageHeight${index}" name="packages[${index}][height]" required>
                    </div>
                </div>
                <button type="button" class="remove-btn" onclick="this.parentNode.remove()">Remove</button>
            `;
            
            container.appendChild(newItem);
        });

        // Form submission
        // document.getElementById('shipmentForm').addEventListener('submit', function(e) {
        //     e.preventDefault();
        //     // Here you would typically collect the form data and send it to a server
        //     alert('Form submitted! (This is a demo - no data is actually sent)');
        // });
    </script>
    <script>
    // ... (keep your existing addHistoryBtn and addPackageBtn code) ...

    // Form submission
    document.getElementById('shipmentForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Collect all form data
        const formData = new FormData(this);
        
        // Send data to PHP script
        fetch('save_shipment.php', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert('Shipment data saved successfully!');
                // Optionally reset the form
                // document.getElementById('shipmentForm').reset();
            } else {
                alert('Error saving data: ' + data.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('An error occurred while saving data.');
        });
    });
</script>
</body>
</html>